(this.webpackJsonpsravnitel=this.webpackJsonpsravnitel||[]).push([[0],{26:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAACnElEQVR4nO2bTWsTURiFn8QuXAhii4hStIpf1CoI3eufENGd9DfoRjdxoRvd6MIu/EAXSlGEbrtyoYUWFQRFsRSKog1+7IU0rYt5Q+fedGZSM5mTmPvAhdvMve97zunMJLQT0DEB1G1MCHVIOAnUgDUbNXutLzgB/GbdfGP8Ao4LdRXCMeAnzeYb4wcwKlPXYY4CVZLNN0YVOCLS2DEOAd9xjb6KzWe9Y9+AgxKlHeAA8BXX4EVgMvbzJHDJW/MF2C/Qmyv7gCVcY5ftmB8AwBVv7RKwtzC1OTMMLOIaqsSObxQAwFVvz6LV6in2AAu4Rq4BpdiapABKwHVv72er2RPsAj7hGriBax6SA8DW3vRqfLTaXc1O4AOu8Fs0m4f0ALA9t71a761HVzIEvMMVfIeNzUN2ANje+Lo16zGUm+qc2AG8xRV6Fyin7GklAKzGPa/2G+vZFWwH5nEFPiTdPLQeAMAW4JHXY956S9lG86e4x0SCs9hMAFjNJ16vWdMgo+IJegoMtLh3swFgtZ95PSupOzLIOk2zqMbm08B5YKXNmmmsAOesV4Pldgq2+ttK4j7RKbgMTBH9YaPT1IAzwFlgN/CggJ4d4V8ugdxp9xLoeUIAagFqQgBqAWpCAGoBakIAagFqQgBqAWpCAGoBakIAagFqQgBqAWpCAGoBakIAagFqQgDAIHABGNFKKZQRIs+DA8Bz4BTRw4vDwB+drkLYCrwm+hf7izKReeyFMZWqAhlj/fmC0+EeoBagJgSgFqAmBKAWoCYEoBagRhlAPWFeKMoAphPmhdLuQ1LtMAMctvmCSoQyABAabxBugmoBavo+AP8eMC5RUSyOxxLRe3C/ngn1MjCnViFkDqLv6r4EVsn+Wuv/MlbN8+hf2C4NKgDUpvsAAAAASUVORK5CYII="},34:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEnUlEQVR4nO3a26sVZRjH8c9ee6tb975RSZO0uulcRNhFRyg0yeh0UdFBsSg6Ud31HwRdFUFdREeIgjKFUDqYmgURdJNQF1GZ2UExzA2hZabb3cW7h/XO7K3OzJpZa0HzhZc1hzXP876/eY/POwM6YwTXTaYzsBinYR72Yy9+x0/4GJvxZ4c+e85MrMFGHMJEgXQEn+BhzOp2xjtlEKvwo2KFPl76GfdjRjcLkWUg5/+W4TlcOM29g0LV3o7d2IMxzMUCLMRSrBCaRpYdeAybimS8WwzhaVPf3lG8JhQqb1UexGV4Af9OY/OZSX99wwjeNzWja3FOh7bPxOsYz9jegDkd2q6EEXwhnbm9uDrHsxcJfUWeglwpjBKxny1CR9szhkx9819hSY5nFwvNYwIv5/R3utB/xP7elL9/qpxsm98o1Ig83Bk9t6OAzxFsy/h9pMDzlbHM1Deft/CUFwDmSw+x/+CsgjY6YhDfSLf5PNU+phMB4AIckG4KXWOV9NvP0+Fl6VQAeCCyccz0c4/KmYmdkeN3S9qpQoAhfBfZWV/STiHWRA6P4uySdqoQAO6Qro2LO7B1QlqTv7dF197A93U5zMk6YQWZsLIuRy2hl18eXXu7LmcFOCbMRRJuqMtRS1jLD0+eH8RndTkryAfR8XI1LZ8TARI243AdjkrwqdAfwajO1x/T0hIiOQnb63BSkkPYF50vrMPJkHQPuydzf4mwYMnLFdHxqDAq5GUMW4UVYsI+LJo8PrWArULs0x5uro+uX2LqcrXutC6Tt63RvScrK3FESzpKMxYdX6w9THaLpZnziei4lmDJkBC9PWXyfG50bx2uwjUF7I1qt9Uj+KXAs/vxVObaouj4twK2CvG1djVb3aGtqmaCCWORvWsrsDeFlhCRSVhQh5OSjErXyFpqQEt6ypltg70knp0eEMLoldMSdmwSVghxgX7g5uj4QyGSXDktYfaXzLjm49I6HBVkEDdG5xvqctQS9uo+j67dU5ezAtylPTKNCzWgVh7V7m0PC5HaMlQxCswS+qXEzjsl7RRiGL9GTl8paacKAZ6IbHQSnCnMg5HjcVxewkanApwnNMnExkslbJRmhnRYuttR4Xn4IXr+kBpDYcdjZZSBbu4LDEuH5Hu2MQLPZjKyTRge87Aieu7LnM/Mk56OJ5Hgnm2NDQnjbpyhHUL7PBmD2gHNm3L8/1zpap+krXq8SzxHei0+IXRO96pmpjhL6O3jDi+bNuuxCLOEbwGyGfsWtysXK2jhbulNmCStFQrdVyIM4HFhozKb4Z14Xug4Z5/AxihuxavCyJK187cwBA9M2tmkz0Qg7NK+JcTrp6uuR4Tvg7YLBfhI6Nj+OM7/k0nOi8JndTF9KwJho3K9zuJ+48L09kRb330tAmGC9JAwWvzl5IU+KIwOq+UfUrsiQhVj7TDO1/4kbqEwlO6O0k7lNlxm4z1hfpGwBbcIfcf/gtlC0KZvm0M3aETQiIBGBDQioBEBjQgIIvTdAqrbNCJoREAjAhoR0IiARgSEwjYiaERoRKARAdOL0NXd534gK8KunuamR8wR3vwu3PcfOuYd7fNAKp8AAAAASUVORK5CYII="},43:function(e,t,a){e.exports=a(55)},52:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZUlEQVR4nOXbPXNNURTG8d8VM1EkCpEqoZPQEaNOhj5Bo4yXTyD4BoJ8A6RRGuQLkFETSkLppUqoaDAyURx7cnbu7Zi9J1n/mdveeZ5z5pzzrLXXYueyDw+wjut1pZRnP55j8+/vF/qqKirIMF7bMr+Jh1UVFeQw3svNP8VATVGlOIbPcvOP0F9TVClO4avc/F1Bnvsz+C43fxOdmqJKcR4/5eavVlVUkCvYsGX8N2arKirIDfld/4HpqooK0cGC3Pw3TNYUVYo+LMrNr2OipqhS9GNJbv4jxmqKKsUgluXm32K0pqhSHMSK3PxLDNUUVYpRrMrNPxMk149rnvG2+ceC5PoJzdu9bf6eILl+SvNdb5u/JUiun9Ekurb5a1UVFeSiJssn4xu4VFNQSeZ05/qzVRUVoqN5vrfn+qmKmorRp3mzt81/wcmaokrRr+nVbc/14zVFlWJA06Vtm3+HQzVFlWIIL+TmVzR5f9czoqng2uaXNZXerucIPsjNPxEk15/Amtz8oiC5/oLuaHtHkFy/Vx5tN+3QI+o9//G/Qtz5Nr0egQXBLsRxgV+CiV6fwSVBPoOJEbwRNAglDggchROhi6FEr3L4kyDlcKJPM8ISsiGS6GBe0JZYm7BN0TazArfFE9MCH4wkJnUfjd0WrH7odTh6X7D6YUzg4/FE6AGJROgRmUSvIalVQYakEv2aVnrIMblE6EHJREfTWg9fP/Qalp6pqqgClwUel0+c070wMVdVUQVO616ZmResfui1NBVmuDJxVOC1uUToxcnEMF7JL0KY1dnEoMDL04m0Pr/mH1prfwBhRyFuvzW//QAAAABJRU5ErkJggg=="},53:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAACg0lEQVR4nO3bu06UQRjG8d+6xCVRGsXGU6VCqULv4QI8VHaK3IGId+D5ChQtKD1egKfaqK2CnQEbBRuhQQPRYjTssFupmTc4/JNtvzzz5NuZ9/3meflzxjGHSfT+xXPWJU18x49fvxfoC1UUwD2rBvzAG+wIVVSYrXgqN+E99kaKKk0LD+QmfMRgpKjSNHFbbsIXDEeKKk0DV+QmLOJ4pKgIxuQmfMPpUEUBjGDZqgkrGI0UFMFJLMnfhvFQRQEcxYLchOvSflENh6Vyud2EO9LJUQ0HMCM34ZFUQ1TDbkzJTXgmVZPV0I/XchNeYXukqNL04bnchCnpDamGlrQHtJswI+0V1dDEhNyEOenUqIYGrslNWMCRSFERjMtNWMKJUEUBnJd6ht8mLONcqKIATunsH8ZCFQVwTGf/cEVl/cMQ5uUm3FJZ/zCAWbkJ97E5UlRp9mBabsITG/2Dl9gWKao03fqHt9gVKao0LTyWm/AB+yNFlaaJu3ITPuNgpKjSNHBDZ+l8JlJUBJfkJiyj508etOkfiipJVZVhOw3cVOlfoEfnJvhJJZtgr+7H4L5IUaXokyI4awuhnZGiStEvRW+qLIX3SJGbtc3QlkhRpRhUcTs8rOIPIsekaE374i+rpPA5LUVq2hd/IVRRQUZ1fhY/G6qoINVejDSkyEz74r+q5GqsKUVl1l6OHooUVYqqr8e7feB8p5KARNURmapDUgM6Y3IPVRKTG9IZlJxQSV1/VOdV9zWV1PXdwg7VhKVH5HX9ihSBqYJqByYauCpf/KLU3//3dAs9zqtkaKolnenti59Vydhct8HJaelrbhV0G53tD1VUkI3haVyUEhqT1vH4/E833CFkx8iMMwAAAABJRU5ErkJggg=="},54:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAACt0lEQVR4nO2bsWsUQRSHv4tCUIJgpyJiYXH2wYgEbAT9AwLBQm0VxFKwsLIRK7HRQhC11FKQ2IkhRFGxVCy0DiYKargQUYvZJePize3MvN23uzcfDMxws2/f/HhvZnd2DuAt8KfF5RaRaA9AopwbdwF+h4qwvdC+ALwOsHMQeGS1zwPrIQ452Ancsdo3gMtZvQfcy+r3fQ3bSk4HOtcv2JkKtONiqnCPPnAM+E5EJEzI+hjNLuAicKpk/yXgJPAja+eR4CVCkyLgpsOX/0VATnAkNC0Cjg6pjyI4EpomQAxBInRJAAgQoWsCgKcIXRQAPERomgCrQ+ohlBahScvgceAj8BTYUfjNtQy6GLlENkkAF6ECgEOE4rtAV8nTYQEjZJ4Og6oEuMtW7kkRG1W5CC8wc18PuA7VpEAdxScFbC7ZdqRWgc/Ez9o+fAE+BV67ZDekUmAAnADOYt7bq2QdeABsSBiTnAPeZaVVNO1BqHaSANoOaJME0HZAmySAtgPaJAG0HdAmCaDtgDZJAG0HtEkCaDugje9+wBxwBpiswBcJNoCHwGOfi8ruCe4BNqlvzy+mHHCMY9ru65MCh2jPNvrhsh1jBnQ14toquGbVf/pcWDYFZq1+A1/vamDAln+zjn7BKdBJkgDaDmgjNavvBm7jzj1JFjGHOr/GGpIS4DQwL2SrDPPAc4zoUUilwEvMQ1JdbGb3jEYqAt4A+4EjQvZG8QpYkTAk+WS3AjwRtFcLY78KJAG0HdBG+u2urrfFX1KGpCJgH7CMWZ7qKMvAXgnHpQSYA2aEbJVhJrtnNFICLFDvIalV4JmEIamc/YB5EAo9uubLe4T2JCQnrQHpkFT7GHsBiing2hO083sS832gSdjfKvoMnyP+GWMPszk4tkwgsKvSYta2Ad8wfygo/kOj66wBV/4CxfiglmpGhFsAAAAASUVORK5CYII="},55:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(17),r=a.n(i),l=a(30),o=a.n(l),c=a(35),f=a(10),h=a(9),u=a(12),d=a(8),A=a(13),m=a(14),g=a(15),p=a(4),v=a(77),b=a(72),y={main:{width:"100%"},fileUpload:{padding:"0px"},bar:{height:"20px",minHeight:"20px"},devider:{width:"20px"},addressCol:{display:"flex",flexWrap:"wrap",flexGrow:"0",flexShrink:"0",overflow:"hidden",width:"100px"},addressBox:{width:"100%",height:"20px",overflow:"hidden"},hex:{display:"flex",flexWrap:"wrap",flexGrow:"0",flexShrink:"0",overflow:"hidden",width:"240px"},value:{display:"flex",flexWrap:"wrap",flexGrow:"0",flexShrink:"0",overflow:"hidden",flexBasis:"240px"},byte:{width:"20px",height:"20px",overflow:"hidden",flexWrap:"wrap",flexGrow:"0",flexShrink:"0"},diff:{backgroundColor:"red"},marked:{backgroundColor:"rgba(255,165,0, 125)"}};function E(e){return String.fromCharCode.apply(String,Object(f.a)(new Uint8Array(e))).split("")}function w(e){var t=Number(e).toString(16);return t="0x0000000000".substr(0,10-t.length)+t}var k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(A.a)(this,Object(m.a)(t).call(this))).styles=e.classes,a.onScrollUpdate=e.onScrollUpdate,a.state=a.renderState(e),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"renderState",value:function(e){var t={file:e.file,currentStart:12*Math.floor(e.scrollPosition/12),diffs:e.diffs?e.diffs:[],marked:e.marked?e.marked:[1,2,4],numberOfLines:Math.floor(e.file.byteLength/12)+1,maxLines:e.maxLines?e.maxLines:25};return Object(h.a)({},t,{},this.generateContentContent(t.currentStart,t.file,t.maxLines))}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.renderState(e))}},{key:"generateContentContent",value:function(e,t,a){var n=e+12*a;t.byteLength<n&&(n=t.byteLength);var s=t.slice(e,n);if(s.byteLength){for(var i,r=(i=s,Array.prototype.map.call(new Uint8Array(i),(function(e){return("00"+e.toString(16)).slice(-2)})).join("")).match(/.{1,2}/g),l=[],o=e;o<n;o+=12)l.push(w(o));return{bytes:r,offsets:l,values:E(s)}}}},{key:"styleByte",value:function(e){var t=this.state.currentStart+e,a=this.state.diffs.find((function(e){return e==t}));return a?this.styles.diff:(a=this.state.marked.find((function(e){return e==t})))?this.styles.marked:""}},{key:"isMarked",value:function(e){this.state.currentStart;return""}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:this.styles.main},s.a.createElement(v.a,{display:"flex",flexGrow:"1"},s.a.createElement(v.a,{className:this.styles.addressCol},this.state.offsets.map((function(t,a){return s.a.createElement("span",{key:a,className:e.styles.addressBox},t)}))),s.a.createElement(b.a,{orientation:"vertical",className:this.styles.devider}),s.a.createElement(v.a,{className:this.styles.hex},this.state.bytes.map((function(t,a){return s.a.createElement("span",{key:a,id:e.state.currentStart+a,className:e.styles.byte+" "+e.styleByte(a)},t)}))),s.a.createElement(b.a,{orientation:"vertical",className:this.styles.devider}),s.a.createElement(v.a,{className:this.styles.value},this.state.values.map((function(t,a){return s.a.createElement("span",{key:a,className:e.styles.byte},t)})))))}}]),t}(n.Component),x=Object(p.a)(y)(k),C=a(56),O=function(){function e(){Object(u.a)(this,e),this.events={}}return Object(d.a)(e,[{key:"RigsterForEvent",value:function(e,t){if(!this.events[e]){this.events[e]=[function(e){return console.log(e)}]}this.events[e].push(t)}},{key:"FireEvent",value:function(e,t){if(this.events[e]){var a=!0,n=!1,s=void 0;try{for(var i,r=this.events[e][Symbol.iterator]();!(a=(i=r.next()).done);a=!0){(0,i.value)(t)}}catch(l){n=!0,s=l}finally{try{a||null==r.return||r.return()}finally{if(n)throw s}}}}}]),e}(),F=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(A.a)(this,Object(m.a)(t).call(this))).styles=e.classes,a.currentDiff=-1,e.regiseterForNavigation&&window.GlabalEventHandler.RigsterForEvent("NavigateTo",(function(e){a.updateScroll(Math.max(0,e-24))})),a.state=Object(h.a)({},e.info,{scrollPosition:0}),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",(function(t){39==t.keyCode&&e.navigateToNextDiff(),37==t.keyCode&&e.navigateToPrevDiff()}))}},{key:"componentWillReceiveProps",value:function(e){this.setState(Object(h.a)({},e.info,{scrollPosition:e.scrollPosition?e.scrollPosition:this.state.scrollPosition,marked:e.marked?e.marked:this.state.marked}))}},{key:"navigateToNextDiff",value:function(){if(this.state.ranges.length){this.currentDiff=Math.min(++this.currentDiff,this.state.ranges.length-1);var e=this.state.ranges[this.currentDiff].start;this.setState({scrollPosition:e})}}},{key:"navigateToPrevDiff",value:function(){if(this.state.ranges.length){this.currentDiff=Math.max(--this.currentDiff,0);var e=this.state.ranges[this.currentDiff].start;this.setState({scrollPosition:e})}}},{key:"updateScroll",value:function(e){this.setState({scrollPosition:e})}},{key:"onSave",value:function(e){!function(e,t){console.log("Save file with size ".concat(e.size));var a=document.createElement("a"),n=a.href=URL.createObjectURL(e),s=document.body;a.download=t,s.appendChild(a),a.dispatchEvent(new MouseEvent("click")),s.removeChild(a),URL.revokeObjectURL(n)}(new Blob([this.state.file2]),"pesho.bin")}},{key:"render",value:function(){return s.a.createElement(v.a,{className:this.styles.main},s.a.createElement(v.a,{className:this.styles.half,border:1,borderRadius:"borderRadius",borderColor:"primary.main"},s.a.createElement(v.a,{className:this.styles.diffFile},s.a.createElement(x,{diffs:this.state.diffs,marked:this.state.marked,file:this.state.file1,maxLines:"10",scrollPosition:this.state.scrollPosition,onScrollUpdate:this.updateScroll.bind(this)})),s.a.createElement(v.a,{className:this.styles.buttonGroup,borderTop:1,borderBottom:1,borderColor:"primary.main"},s.a.createElement(C.a,{className:this.styles.button,onClick:this.navigateToPrevDiff.bind(this)},s.a.createElement("img",{className:this.styles.buttonIcon,src:a(52)})),s.a.createElement(C.a,{className:this.styles.button,onClick:this.navigateToNextDiff.bind(this)},s.a.createElement("img",{className:this.styles.buttonIcon,src:a(53)})),s.a.createElement(C.a,{className:this.styles.button,onClick:this.onSave.bind(this)},s.a.createElement("img",{className:this.styles.buttonIcon,src:a(54)}))),s.a.createElement(v.a,{className:this.styles.diffFile},s.a.createElement(x,{diffs:this.state.diffs,marked:this.state.marked,file:this.state.file2,maxLines:"10",scrollPosition:this.state.scrollPosition,onScrollUpdate:this.updateScroll.bind(this)}))))}}]),t}(s.a.Component),S=Object(p.a)({main:{flexGrow:0,flexShrink:0,width:"650px",display:"flex",padding:"25px 5px 5px 25px"},half:{width:"100%",minWidth:"500px"},diffFile:{flexGrow:0,display:"flex"},bar:{height:"20px"},buttonIcon:{width:"20px",height:"20px"},button:{flexGrow:1,display:"flex"},buttonGroup:{display:"flex"}})(F),R=a(73),N=a(74),j=(a(26),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(A.a)(this,Object(m.a)(t).call(this))).styles=e.classes,a.onready=e.onready,a.state={firstName:"Upload first File",secondName:"Upload second File",targetName:"Upload target File",firstFile:null,secondFile:null,targetFile:null,ready:!1},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"onLoadFirstFile",value:function(e){var t=this;this.setState({firstName:e[0].name,firstFile:e[0]},(function(){t.checkIfReady()}))}},{key:"onLoadSecondFile",value:function(e){var t=this;this.setState({secondName:e[0].name,secondFile:e[0]},(function(){t.checkIfReady()}))}},{key:"onLoadTargetFile",value:function(e){var t=this;this.setState({targetName:e[0].name,targetFile:e[0]},(function(){t.checkIfReady()}))}},{key:"checkIfReady",value:function(){this.state.firstFile&&this.state.secondFile&&this.state.targetFile&&this.state.firstFile.size==this.state.secondFile.size&&this.state.firstFile.size==this.state.targetFile.size?this.setState({ready:!0}):this.setState({ready:!1})}},{key:"onStart",value:function(){this.onready({first:this.state.firstFile,second:this.state.secondFile,target:this.state.targetFile})}},{key:"render",value:function(){var e=this;return s.a.createElement(R.a,{elevation:3,className:this.styles.main},s.a.createElement(N.a,{size:"large",color:"primary","aria-label":"large outlined primary button group"},s.a.createElement(C.a,{component:"label"},s.a.createElement("div",{className:this.styles.button},this.state.firstName),s.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(t){return e.onLoadFirstFile(t.target.files)}}),s.a.createElement("img",{className:this.styles.fileUpload,src:a(26)})),s.a.createElement(C.a,{component:"label"},s.a.createElement("div",{className:this.styles.button},this.state.secondName),s.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(t){return e.onLoadSecondFile(t.target.files)}}),s.a.createElement("img",{className:this.styles.fileUpload,src:a(26)})),s.a.createElement(C.a,{component:"label"},s.a.createElement("div",{className:this.styles.button},this.state.targetName),s.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(t){return e.onLoadTargetFile(t.target.files)}}),s.a.createElement("img",{className:this.styles.fileUpload,src:a(26)}))),s.a.createElement(C.a,{disabled:!this.state.ready,onClick:this.onStart.bind(this)}," Start"))}}]),t}(s.a.Component)),U=Object(p.a)({main:{position:"absolute",top:"20%",left:"20%",display:"flex",flexDirection:"column",color:"text.primary"},button:{width:"250px",overflow:"hidden"},fileUpload:{marginLeft:"10px",width:"20px",height:"20px"}})(j),B=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,null,[{key:"findPossiblePositionst",value:function(e,t,a){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3,i=function(e,t){for(var a=[],n=0;n<t.length-e.length;++n){for(var s=!0,i=0;i<e.length;i++)if(t[n+i]!=e[i]){s=!1;break}s&&a.push(n)}return a},r=[],l=n;l<s;++l){var o=e.slice(a-l,a),c=i(o,t);if(0==c.length)break;if(1==c.length){r=c;break}if(r=c,a-l<=0)break}return{possibleOffsets:r=r.map((function(e){return e+l})),numberOfSameBytes:l}}},{key:"calculateDifferences",value:function(e,t,a){for(var n=[],s=0;s<e.byteLength;++s)e[s]!=t[s]&&n.push(s);var i=[],r=0;1==n.length&&i.push({start:n[r],end:n[r]+1});for(var l=1;l<n.length;++l)(n[l]-n[l-1]>20||l+1==n.length)&&(i.push({start:n[r],end:n[l-1]+1}),r=l);return{diffs:n,ranges:i}}},{key:"calculatePossibleOffsets",value:function(t,a,n){return n.map((function(n){return Object(h.a)({},n,{},e.findPossiblePositionst(t,a,n.start))}))}},{key:"renderFileFromChanges",value:function(e,t,a){var n=new Uint8Array(t),s=!0,i=!1,r=void 0;try{for(var l,o=a[Symbol.iterator]();!(s=(l=o.next()).done);s=!0)for(var c=l.value,f=c.targetStart,h=c.end-c.start,u=0;u<h;++u){n[f+u];e[c.start+u],n[f+u]=e[c.start+u]}}catch(d){i=!0,r=d}finally{try{s||null==o.return||o.return()}finally{if(i)throw r}}return n}}]),e}(),V=a(75),L=a(80),G=a(78);a(34);function I(e){var t=Number(e).toString(16);return t="0x0000000000".substr(0,10-t.length)+t}var M=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(A.a)(this,Object(m.a)(t).call(this))).styles=e.classes,console.log(e.changes),a.state={changes:e.changes.map((function(e){return Object(h.a)({},e,{entries:e.possibleOffsets.map((function(t){return{offset:t,checked:1==e.possibleOffsets.length}}))})}))},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e,t,a){var n=this;return function(s){var i=n.state.changes;i[e].entries[t].checked=s.target.checked,n.setState({changes:i}),s.target.checked?window.GlabalEventHandler.FireEvent("AddChange",{start:a.start,end:a.end,targetStart:a.possibleOffsets[t]}):window.GlabalEventHandler.FireEvent("RemoveChange",{start:a.start,end:a.end,targetStart:a.possibleOffsets[t]})}}},{key:"navigateTo",value:function(e,t){var a=this;return function(){var n=a.state.changes[e].entries[t].offset;window.GlabalEventHandler.FireEvent("NavigateTo",n)}}},{key:"renderEntry",value:function(e,t){var n=this;return s.a.createElement(V.a,{className:this.styles.noPadding},e.entries.map((function(i,r){return s.a.createElement(L.a,{key:r,className:n.styles.noPadding},s.a.createElement(G.a,{edge:"start",checked:i.checked,tabIndex:-1,disableRipple:!0,onChange:n.handleChange(t,r,e)}),"target offset: ".concat(I(i.offset),", similarity: ").concat(e.numberOfSameBytes," "),s.a.createElement("img",{className:n.styles.goto,src:a(34),onClick:n.navigateTo(t,r)}))})))}},{key:"render",value:function(){var e=this;return s.a.createElement(V.a,{className:this.styles.root},this.state.changes.map((function(t,a){return[s.a.createElement(L.a,{key:a,className:e.styles.noPadding},"start offset: ".concat(I(t.start),", end offset: ").concat(I(t.end)),e.renderEntry(t,a)),s.a.createElement(b.a,null)]})))}}]),t}(s.a.Component),P=Object(p.a)({root:{overflow:"auto",maxHeight:"300px",width:"750px"},goto:{marginLeft:"10px",width:"20px",height:"20px"},noPadding:{paddingTop:"0px",paddingBottom:"0px"}})(M);window.GlabalEventHandler=new O;var Q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(A.a)(this,Object(m.a)(t).call(this))).styles=e.classes,a.currentDiff=-1,a.state={baseFiles:{file1:"00",file2:"00",diffs:[],ranges:[]},resultFiles:{file1:"00",file2:"00",diffs:[],ranges:[]},page:1},window.GlabalEventHandler.RigsterForEvent("AddChange",(function(e){var t=Object(h.a)({},a.state.resultFiles),n=Object(f.a)(a.state.doneChanges);n.push(e),t.file2=B.renderFileFromChanges(a.state.baseFiles.file2,t.file1.slice(0),n),a.setState({resultFiles:Object(h.a)({file1:t.file1,file2:t.file2},B.calculateDifferences(t.file1,t.file2),{possibleChanges:t.possibleChanges}),doneChanges:n})})),window.GlabalEventHandler.RigsterForEvent("RemoveChange",(function(e){var t=Object(h.a)({},a.state.resultFiles),n=Object(f.a)(a.state.doneChanges),s=n.findIndex((function(t){return t.start==e.start}));console.log(s),n.splice(s,1),t.file2=B.renderFileFromChanges(a.state.baseFiles.file2,t.file1.slice(0),n),a.setState({resultFiles:Object(h.a)({file1:t.file1,file2:t.file2},B.calculateDifferences(t.file1,t.file2),{possibleChanges:t.possibleChanges,marked:t.marked}),doneChanges:n})})),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"onStart",value:function(e){var t=this;Object(c.a)(o.a.mark((function a(){var n,s,i,r,l,c,u;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=Uint8Array,a.next=3,e.first.arrayBuffer();case 3:return a.t1=a.sent,n=new a.t0(a.t1),a.t2=Uint8Array,a.next=8,e.second.arrayBuffer();case 8:return a.t3=a.sent,s=new a.t2(a.t3),a.t4=Uint8Array,a.next=13,e.target.arrayBuffer();case 13:a.t5=a.sent,i=new a.t4(a.t5),(r=B.calculateDifferences(n,s)).ranges=B.calculatePossibleOffsets(s,i,r.ranges),l=r.ranges.filter((function(e){return 1==e.possibleOffsets.length})).map((function(e){return{start:e.start,end:e.end,targetStart:e.possibleOffsets[0]}})),c=B.renderFileFromChanges(s,i,l),console.log(r.ranges),u=r.ranges.map((function(e){return Object(f.a)(e.possibleOffsets.map((function(t){return Object(f.a)(Array(e.end-e.start).keys()).map((function(e){return t+e}))})))})).flat(1/0),console.log(u),t.setState({page:2,baseFiles:Object(h.a)({file1:n,file2:s},r,{marked:[]}),resultFiles:Object(h.a)({file1:i,file2:c},B.calculateDifferences(i,c),{possibleChanges:r.ranges,marked:u}),doneChanges:l});case 23:case"end":return a.stop()}}),a)})))()}},{key:"renderContent",value:function(){switch(this.state.page){case 1:return s.a.createElement(U,{onready:this.onStart.bind(this)}," ");case 2:return s.a.createElement("div",null,s.a.createElement("div",{className:this.styles.main},s.a.createElement(S,{info:this.state.resultFiles,regiseterForNavigation:!0}),s.a.createElement(S,{info:this.state.baseFiles,scrollPosition:this.state.scrollPosition})),s.a.createElement(P,{changes:this.state.resultFiles.possibleChanges}))}}},{key:"render",value:function(){return s.a.createElement("div",null,this.renderContent())}}]),t}(s.a.Component),K=Object(p.a)({main:{flexGrow:1,width:"100%",height:"50%",display:"flex",color:"text.primary"},bar:{height:"20px",minHeight:"20px"},half:{width:"100%",minWidth:"500px"},diffFile:{flexGrow:0,display:"flex",height:"45%",width:"90%",marginLeft:"5%"},verticalSpliter:{flexGrow:0,display:"flex",height:"10%",width:"90%"}})(Q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.081817b2.chunk.js.map